# 概要
すみだ水族館のペンギン観察に使えるの便利なSPA Appです。(sp専用)

## データ仕様
# ペンギン(個体)
- ペンギンには個体を識別する色のついたリストバンドが付けられています。最大4本
  - リストバンドの色は以下
    - 黄色
    - ピンク
    - 紫
    - 黄緑
    - 青
    - 赤
    - 白
    - 緑
    - 茶色
    - 薄茶色
- ペンギンには名前が必ず付いています
- ペンギンには説明が必ず存在します。
- ペンギンには性別(オス、メス) があります
- ペンギンには属性があります
  - 白ポチ族
  - バインバイン族
  - 半身浴族
  - カメラ付き
  - グルメ
  - おしゃべり
- 属性には説明が付いています
- ペンギンには関係性があります。
- 関係性には向きがあります。(一方向/両方向/方向なし)
- 関係性の種類
  - 夫婦orカップル (両方向)
  - 破局(元夫婦) or 失恋 (両方向/一方向)
  - 浮気or友達以上 (両方向)
  - 友達 (両方向/一方向)
  - 元友達or不仲 (両方向/一方向)
  - 親子 (方向なし)
- 関係性には説明が存在することがあります。
  - 説明は方向のどちらか側か、真ん中につきます。
- 夫婦、カップルは間に表示がつきます。表示は説明と異なります。

## 最低限の機能
- 色を絞り込んで、個体の情報が見れます。
  - 色を選択すると、その色を持つ個体のリストがフィルターされて取得できます。
  - 複数色を選択した場合は AND 条件（選択した色を全て持つ個体のみ表示）
- リストから個体を選択すると、その個体の名前や説明や属性や関係性を見ることができます。
- 属性をタップすると、属性から絞り込みをした結果が表示されます。
- 絞り込み中の条件はユーザーアクションによって追加し続けます。
- 絞り込みに使える条件は、リストバンドの色(複数選択可) と 属性 のみです。
- 条件の解除は個別に行える。色条件と属性条件はそれぞれ別のチップエリアに表示され、各チップのバツボタンで個別解除できる。

## データ構造

```typescript
// リストバンドの色（位置情報は持たない）
const BAND_COLORS = {
  黄色: '#fff',
  ピンク: '#fff',
  紫: '#fff',
  黄緑: '#fff',
  青: '#fff',
  赤: '#fff',
  白: '#fff',
  緑: '#fff',
  茶色: '#fff',
  薄茶色: '#fff',
} as const

type BandColor = keyof typeof BAND_COLORS

type Sex = 'オス' | 'メス'

type Attribute = '白ポチ族' | 'バインバイン族' | '半身浴族' | 'カメラ付き' | 'グルメ' | 'おしゃべり'

type Penguin = {
  id: string
  name: string
  sex: Sex
  bands: BandColor[] // 最大4本
  description: string
  attributes: Attribute[]
}

type RelationType = '夫婦orカップル' | '破局or失恋' | '浮気or友達以上' | '友達' | '元友達or不仲' | '親子'

type RelationDirection = 'one' | 'both' | 'none'

type Relationship = {
  source: string // ペンギンID
  target: string // ペンギンID
  type: RelationType
  direction: RelationDirection
  description?: string
}
```

## 実装範囲
入力データが多いので、データの拡張性を考慮しながら、段階的に実装します。初回範囲は以下です。
- 名前
- 性別
- 関係性
  - 夫婦orカップル
  - 親子
  - 浮気or友達以上
- リストバンドの色

## 機能の詳細仕様 (UX)

### 絞り込み画面
画面上部に現在フィルタリング中のペンギンのリストが出ます。最初は名前と色だけ表示するだけでいい。
画面下部に条件操作用のUIが出ます

### ペンギン詳細画面
画面上部に対象の個体と、関係性のあるペンギンがグラフ構造で出力されます。
- ペンギン個体は丸いアイコンで表示され、下に名前が表示されます。
- 関係性は線でながっています
- 主役は太い丸、関係性のあるペンギンは細めの丸がいいかも
  - 後で画像を差し込むかも
